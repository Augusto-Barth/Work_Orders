# Work Orders System

A simple work order management system with notifications. The system
allows users to create, manage, and track work orders through a web
interface.

------------------------------------------------------------------------

# Setup Instructions

## 1. Clone the Repository

``` bash
git clone https://github.com/Augusto-Barth/Work_Orders
cd Work_Orders
```

## 2. Create Virtual Environment (Backend)

``` bash
python3 -m venv venv
source venv/bin/activate
```

## 3. Install Backend Dependencies

``` bash
pip install -r requirements.txt
```

## 4. Setup PostgreSQL Database

Create the database:

``` bash
createdb workorders
```

Or manually using psql:

``` sql
CREATE DATABASE workorders;
```

Connection string expected by the backend:

    postgresql://workuser:password@localhost:5432/workorders

Grant permissions if necessary:

``` sql
GRANT ALL PRIVILEGES ON DATABASE workorders TO workuser;
GRANT ALL ON SCHEMA public TO workuser;
```

------------------------------------------------------------------------

# Running the Backend

Start the backend server:

``` bash
uvicorn app.main:app --reload
```

The backend API will run at:

    http://localhost:8000

Swagger documentation:

    http://localhost:8000/docs

------------------------------------------------------------------------

# Running the Frontend

Navigate to the frontend directory:

``` bash
cd frontend
```

Install dependencies:

``` bash
npm install
```

Run the development server:

``` bash
npm run dev
```

Frontend will run at:

    http://localhost:5173

------------------------------------------------------------------------

# Assumptions Made

-   PostgreSQL is available locally
-   The user has permission to create tables
-   Authentication is simplified
-   Notifications are generated by backend events

------------------------------------------------------------------------

# Design Decisions

## Backend

The backend uses **FastAPI** because it provides high performance and
automatic API documentation.

## Database

**PostgreSQL** was chosen due to reliability and relational data
support.

## ORM

**SQLAlchemy** is used to interact with the database and map Python
objects to tables.

## Notifications

Notifications are stored in a table with the following structure:

| Column        | Description                                              |
|---------------|----------------------------------------------------------|
| id            | Unique identifier                                        |
| work_order_id | Associated work order                                    |
| type          | Notification type                                        |
| user_id       | Target user                                              |
| read          | Boolean indicating whether the notification was read     |
| text          | Notification message                                     |

Unread notifications appear in the frontend dropdown while read
notifications are hidden.

Changed who receives the WO creation notification, the client said:

    "When a work order is created → Commercial should know."

But since the technicians are the ones that take action, it was changed to:

    "When a work order is created → Technician should know."